<!DOCTYPE html>
<html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1">
<title>Mass Balance Modeling of Seawater Evolution — Mebrahtu Weldeghebriel</title>
<link rel="stylesheet" href="style.css">
<meta name="description" content="Mebrahtu F. Weldeghebriel — Academic website. Paleocean chemistry, lithium isotopes, seawater chemistry, geochemical modeling.">
</head><body>
<header class="site-header"><div class="wrap">
  <div class="brand"><a class="logo" href="index.html" aria-label="Home">MW</a>
    <div class="titleblock"><strong>Mebrahtu F. Weldeghebriel</strong><span class="muted">Postdoctoral Research Associate · Princeton University</span></div></div>
  <nav class="nav">
    <a href="index.html">About</a><a href="publications.html">Publications</a><a href="teaching.html">Teaching</a>
    <a href="talks.html">Talks & Service</a><a href="projects.html">Projects</a><a href="photos.html">Photos</a>
    <a href="news.html">News</a><a href="contact.html">Contact</a>
  </nav>
</div></header><main class="wrap">
<h1>Mass Balance Modeling of Seawater Evolution</h1>
<div class="grid cols-2">
  <div class="card">
    <p>Forward and inverse <strong>mass‑balance models</strong> quantify how changing inputs/outputs govern the <strong>elemental and isotopic composition</strong> of seawater.</p>
    <ul class="list">
      <li>Approach: reservoir–flux models, Monte Carlo ensembles, data assimilation</li>
      <li>Outputs: time‑dependent [Li], δ<sup>7</sup>Li, ⁸⁷Sr/⁸⁶Sr, δ<sup>26</sup>Mg</li>
      <li>Use cases: tectonic vs. climatic controls; uncertainty quantification</li>
    </ul>
    <div class="list">
      <a class="pill" href="https://doi.org/10.1016/j.gca.2023.02.009" target="_blank" rel="noopener">GCA 2023</a>
      <a class="pill" href="https://doi.org/10.1126/sciadv.adj5474" target="_blank" rel="noopener">Sci Adv 2024</a>
    </div>
  </div>
  <figure class="card">
    <img src="assets/mass-balance.svg" alt="Reservoir-flux mass balance schematic" style="width:100%">
    <figcaption class="muted" style="margin-top:.4rem">Figure 3. Reservoirs and fluxes connecting sources/sinks to ocean composition.</figcaption>
  </figure>
</div>

<section style="margin-top:1.5rem">
  <h2>Related publications</h2>
  <div id="related-list" class="list card"></div>
</section>

<script>
async function loadBib(){ const res = await fetch('assets/publications.bib'); if(!res.ok) return []; return parseBibTeX(await res.text()); }
function parseBibTeX(text){
  const entries=[]; let i=0,n=text.length;
  while(i<n){ const at=text.indexOf('@',i); if(at==-1) break; let j=text.indexOf('{',at); if(j==-1) break;
    const type=text.slice(at+1,j).trim().toLowerCase(); let k=text.indexOf(',',j+1); if(k==-1) break;
    const key=text.slice(j+1,k).trim(); let brace=1,p=k+1;
    while(p<n && brace>0){ const ch=text[p]; if(ch=='{') brace++; else if(ch=='}') brace--;
      if(ch=='"'){ p++; while(p<n && text[p]!='"'){ if(text[p]=='\\') p++; p++; } } p++;
    }
    const block=text.slice(k+1,p-1).trim(); const raw=text.slice(at,p); const fields=parseFields(block);
    entries.push({type,key,fields,raw}); i=p; }
  return entries;
}
function parseFields(block){
  const fields={}; let cur='',depth=0,inQ=false;
  const push=s=>{ const idx=s.indexOf('='); if(idx>-1){ const name=s.slice(0,idx).trim().toLowerCase(); let val=s.slice(idx+1).trim();
    if(val.startsWith('{') && val.endsWith('}')) val=val.slice(1,-1); if(val.startsWith('"') && val.endsWith('"')) val=val.slice(1,-1);
    fields[name]=val.trim(); } };
  for(let i=0;i<block.length;i++){ const ch=block[i]; if(ch=='"') inQ=!inQ; if(!inQ && ch=='{') depth++; if(!inQ && ch=='}') depth=Math.max(0,depth-1);
    if(!inQ && depth==0 && ch==','){ push(cur); cur=''; continue; } cur+=ch; }
  if(cur.trim()) push(cur); return fields;
}
function fmtAuthors(a){ if(!a) return ''; return a.split(/\band\b/i).map(s=>s.trim()).map(n=>{ const p=n.split(','); return (p.length==2?(p[1].trim()+' '+p[0].trim()):n).trim(); }).join('; '); }
function entryHTML(e){ const f=e.fields, title=f.title||e.key, auth=fmtAuthors(f.author||''), year=f.year||'', where=f.journal||f.booktitle||'', extra=[f.volume,f.number,f.pages].filter(Boolean).join(', '), link=f.doi?('https://doi.org/'+f.doi):(f.url||'');
  const pill=`<span class="pill">${e.type}</span>`; const line2=[auth,where,extra].filter(Boolean).join(' • ');
  const linkBtn=link?`<a class="pill" href="${link}" target="_blank" rel="noopener">Link</a>`:'';
  const bibBtn=`<button class="pill" onclick='navigator.clipboard.writeText(${json.dumps("@")}+e.raw);this.textContent="Copied";setTimeout(()=>this.textContent="BibTeX",1200)'>BibTeX</button>`;
  return `<article class="pub card"><div class="title">${title}</div><div class="meta">${line2} • ${year} • ${pill}</div><div style="margin-top:.4rem">${linkBtn} ${bibBtn}</div></article>`;
}
async function renderRelated(targetId, tags, maxItems=5){
  const host=document.getElementById(targetId); if(!host) return;
  const entries=await loadBib();
  const tset=new Set(tags.map(s=>s.toLowerCase()));
  function score(e){
    const f=e.fields;
    const kws=(f.keywords||'').toLowerCase().split(/[,;]\s*/).filter(Boolean);
    let s=0; kws.forEach(k=>{ if(tset.has(k)) s+=2; });
    const hay=((f.title||'')+' '+(f.journal||f.booktitle||'')+' '+(f.author||'')+' '+(f.abstract||'')).toLowerCase();
    tset.forEach(t=>{ if(t && hay.includes(t)) s+=1; });
    return s;
  }
  const scored = entries.map(e=>({e, s:score(e)})).filter(x=>x.s>0);
  scored.sort((a,b)=> (parseInt(b.e.fields.year||0)||0) - (parseInt(a.e.fields.year||0)||0) || (b.s - a.s));
  const out = scored.slice(0,maxItems).map(x=>entryHTML(x.e)).join('') || '<p class="muted">No related publications found — add keywords to your .bib (e.g., <code>keywords = {fluid-inclusions, halite}</code>).</p>';
  host.innerHTML = out;
}
</script>

<script>renderRelated('related-list', ["mass-balance", "reservoirs", "flux", "lithium", "strontium", "magnesium", "model"], 5);</script>
</main><footer class="site-footer"><div class="wrap footer-grid">
  <div>© 2025 Mebrahtu F. Weldeghebriel</div><div class="muted">Last updated: 2025-09-07</div>
</div></footer></body></html>